<template name="appBody">
    <div class="container-fluid">

        <section>
            <br />
            <div id="menuMain" class="dropdown">

                <span class="dropdown-toggle btn btn-default"
                      style="cursor: pointer;"
                      id="menuDDM" data-toggle="dropdown" aria-expanded="true">
                    {{emailLocalPart}}
                    <span class="glyphicon glyphicon-menu-hamburger ">
                    </span>
                </span>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menuDDM">
                    {{#each commands}}
                        {{>command}}
                    {{/each}}
                </ul>
            </div>
        </section>

        <div>

            {{#unless connected}}
                <div class="notifications">
                    <div class="notification">
                        <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>

                        <div class="meta">
                            <div class="title-notification">Trying to connect</div>
                            <div class="description">There seems to be a connection issue</div>
                        </div>
                    </div>
                </div>
            {{/unless}}

            {{#if errorsExist}}
                <div class="notifications">
                    <div class="notification">
                        <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>

                        {{#each errors}}
                            <div class="meta">
                                <div class="title-notification">Error {{error}}</div>
                                <div class="description">{{reason}}</div>
                            </div>
                            <br />
                        {{/each}}
                    </div>
                </div>
            {{/if}}

        </div>

        {{>notes_editor}}


        <div id="content-container" class="content-container">
            {{#each thisArray}}
                {{> yield}}
            {{/each}}
        </div>
    </div>
</template>

<template name="command">
    {{#if is_divider}}
        <li class="divider"></li>
    {{/if}}
    {{#unless is_divider}}
        <li><a style="cursor: pointer;" href="{{href}}" title="{{title}}">{{text}}</a></li>
    {{/unless}}
</template>

<template name="notes_editor">

    {{#if is_editing}}
        <div class="notes_editor">
            <div class="panel panel-default" style="margin-top: 20px">
                <div class="panel-heading">
                    <h3 class="panel-title">Notes</h3>
                </div>
                <div class="panel-body">
                    <textarea id="txtNotes" class="form-control" rows="10">{{notes}}</textarea>
                    <div class="pull-right" style="margin-top: 10px;">
                        <button id="btnNotesClose" class="btn btn-primary">Close</button>
                    </div>
                </div>
            </div>
        </div>
    {{/if}}

</template>